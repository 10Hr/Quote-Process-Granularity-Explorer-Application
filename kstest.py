import numpy as np
from scipy import stats

# Step 1: Load the log return data
log_returns = np.array([
0.0772585 ,
-0.0812826 ,
-0.00404041 ,
0.0778603 ,
-0.0778603 ,
0.0815986 ,
-0.0856554 ,
-0.00407333 ,
0.0784716 ,
-0.0825616 ,
0.0938188 ,
-0.0938188 ,
0.0938188 ,
-0.0264666 ,
0.0264666 ,
-0.0264666 ,
-0.0673522 ,
0.0787809 ,
-0.0114287 ,
-0.0673522 ,
-0.00410678 ,
0.0828877 ,
-0.0114287 ,
0.00763362 ,
-0.0790926 ,
0.0790926 ,
-0.0832163 ,
-0.00414079 ,
0.0873571 ,
-0.0873571 ,
0.0911522 ,
-0.0114287 ,
0.0038241 ,
-0.0877056 ,
0.0800427 ,
-0.0842181 ,
0.091881 ,
-0.0115164 ,
0.00769235 ,
0.0114287 ,
-0.019121 ,
-0.0803645 ,
-0.00419288 ,
0.0806889 ,
-0.0806889 ,
0.0806889 ,
0.00386848 ,
-0.0845574 ,
0.0845574 ,
-0.0845574 ,
0.0845574 ,
-0.0845574 ,
-0.00843887 ,
-0.00424629 ,
-0.0042644 ,
-0.00428266 ,
0.10579 ,
-0.10579 ,
0.10579 ,
-0.10579 ,
0.10579 ,
-0.10579 ,
0.10579 ,
-0.10579 ,
0.082351 ,
0.0272921 ,
-0.0272921 ,
0.0311309 ,
-0.0311309 ,
0.0425596 ,
-0.0425596 ,
0.0387645 ,
-0.0387645 ,
0.0234386 ,
-0.0234386 ,
0.0311309 ,
-0.0311309 ,
-0.0780684 ,
0.0780684 ,
-0.0780684 ,
0.0780684 ,
-0.082351 ,
0.082351 ,
-0.082351 ,
0.082351 ,
-0.082351 ,
0.109643 ,
-0.0272921 ,
0.0272921 ,
-0.00772205 ,
0.0565122 ,
-0.0184848 ,
-0.0575975 ,
0.0311309 ,
-0.0311309 ,
0.0501068 ,
-0.0501068 ,
-0.0039604 ,
0.076373 ,
-0.076373 ,
0.0578196 ,
-0.0578196 ,
0.0350913 ,
-0.0350913 ,
0.0615579 ,
-0.0615579 ,
0.0350913 ,
-0.0350913 ,
0.04652 ,
-0.04652 ,
0.0615579 ,
-0.0264666 ,
-0.0350913 ,
-0.00397615 ,
0.0766659 ,
-0.0766659 ,
0.065534 ,
-0.065534 ,
0.0390675 ,
-0.0390675 ,
0.0313751 ,
0.0341589 ,
-0.065534 ,
0.0766659 ,
-0.0111318 ,
-0.065534 ,
0.065534 ,
-0.065534 ,
0.065534 ,
-0.065534 ,
0.065534 ,
-0.065534 ,
0.065534 ,
-0.065534 ,
0.065534 ,
-0.065534 ,
0.065534 ,
-0.065534 ,
0.065534 ,
-0.065534 ,
0.065534 ,
-0.065534 ,
0.065534 ,
-0.0615579 ,
0.0615579 ,
0.0111318 ,
-0.0726897 ,
-0.00397615 ,
0.065534 ,
0.0650048 ,
-0.0650048 ,
-0.0615579 ,
0.0350913 ,
0.0264666 ,
-0.0264666 ,
0.0412817 ,
-0.0148151 ,
-0.0264666 ,
0.0264666 ,
-0.0264666 ,
0.0264666 ,
-0.0264666 ,
0.0375984 ,
-0.0375984 ,
0.0264666 ,
-0.0264666 ,
0.0738343 ,
-0.0473677 ,
-0.0264666 ,
0.0264666 ,
-0.0264666 ,
0.0264666 ,
-0.0264666 ,
0.0264666 ,
-0.0264666 ,
0.0486077 ,
0.00727276 ,
0.0179538 ,
-0.0215836 ,
-0.00364299 ,
0.0252266 ,
-0.0252266 ,
-0.0221411 ,
-0.0264666 ,
0.0264666 ,
0.0473677 ,
-0.0252266 ,
0.0252266 ,
-0.0252266 ,
0.0428637 ,
-0.0650048 ,
0.237959 ,
-0.212175 ,
0.0180185 ,
-0.0702692 ,
0.0264666 ,
-0.0264666 ,
0.0486077 ,
-0.0486077 ,
0.0264666 ,
-0.0264666 ,
0.0264666 ,
0.0473677 ,
-0.0738343 ,
0.0914714 ,
-0.0914714 ,
0.0264666 ,
-0.0264666 ,
0.0558805 ,
-0.0294139 ,
-0.0264666 ,
0.0264666 ,
-0.0264666 ,
0.0738343 ,
-0.0473677 ,
0.0473677 ,
-0.0473677 ,
0.0257841 ,
0.00362977 ,
-0.0558805 ,
0.0738343 ,
-0.0179538 ,
-0.0558805 ,
0.0738343 ,
-0.0473677 ,
-0.0264666 ,
0.0558805 ,
-0.0558805 ,
0.0486077 ,
-0.0221411 ,
-0.0264666 ,
0.0264666 ,
-0.0264666 ,
0.0738343 ,
-0.0179538 ,
-0.0294139 ,
0.0473677 ,
-0.0179538 ,
-0.0558805 ,
0.0264666 ,
-0.0264666 ,
0.0264666 ,
0.0294139 ,
0.00722025 ,
-0.01085 ,
0.0180185 ,
0.00356507 ,
-0.0252266 ,
-0.0221411 ,
-0.0264666 ,
0.0264666 ,
-0.0264666 ,
0.0738343 ,
-0.0738343 ,
0.0558805 ,
-0.0558805 ,
0.0264666 ,
0.0473677 ,
-0.0738343 ,
0.0558805 ,
0.0179538 ,
-0.0473677 ,
0.0294139 ,
-0.0558805 ,
0.0264666 ,
-0.0264666 ,
0.0264666 ,
-0.0264666 ,
0.101906 ,
-0.101906 ,
0.0486077 ,
0.00727276 ,
0.0179538 ,
-0.0215836 ,
0.0180185 ,
0.00356507 ,
-0.0252266 ,
0.0532986 ,
-0.0316371 ,
0.139762 ,
-0.14334 ,
-0.0666914 ,
0.0264666 ,
-0.0264666 ,
0.0264666 ,
0.0294139 ,
-0.0294139 ,
0.0754397 ,
-0.0754397 ,
0.171064 ,
-0.197531 ,
0.0264666 ,
0.0221411 ,
0.0180837 ,
-0.0108109 ,
0.0215062 ,
-0.00711747 ,
0.00356507 ,
-0.00356507 ,
-0.0216615 ,
-0.00732604 ,
0.0606246 ,
-0.0352149 ,
0.00357782 ,
0.127262 ,
-0.13084 ,
0.0317487 ,
-0.0210534 ,
-0.036105 ,
0.0254097 ,
0.00357782 ,
-0.0216615 ,
0.0180837 ,
-0.0108109 ,
0.0460258 ,
0.0956247 ,
-0.0852976 ,
-0.0636257 ,
0.0180837 ,
0.13084 ,
0.0186921 ,
-0.149532 ,
0.0282704 ,
-0.0282704 ,
0.00357782 ,
0.127262 ,
-0.0852976 ,
0.0662494 ,
-0.111791 ,
-0.0180837 ,
0.0180837 ,
-0.0180837 ,
0.00364299 ,
-0.00364299 ,
0.00727276 ,
-0.00727276 ,
-0.00732604 ,
0.0536801 ,
-0.0536801 ,
0.0289875 ,
-0.0289875 ,
0.0289875 ,
-0.0512933 ,
0.0689929 ,
-0.0689929 ,
0.0619506 ,
-0.0619506 ,
-0.0620354 ,
0.131028 ,
-0.131028 ,
0.131028 ,
-0.0540672 ,
-0.076961 ,
0.0953102 ,
-0.0183491 ,
-0.076961 ,
0.00399202 ,
0.072969 ,
0.00369686 ,
-0.0766659 ,
0.00397615 ,
-0.00397615 ,
0.00397615 ,
0.0689929 ,
-0.0689929 ,
0.0652823 ,
0.0471957 ,
0.0105821 ,
-0.0577778 ,
0.0577778 ,
-0.0577778 ,
0.0542629 ,
-0.00706717 ,
0.00706717 ,
-0.00706717 ,
0.00706717 ,
-0.00706717 ,
0.00706717 ,
-0.00706717 ,
-0.0215062 ,
-0.0256895 ,
0.0256895 ,
0.0833816 ,
-0.0833816 ,
0.0143887 ,
-0.0400782 ,
0.0717153 ,
-0.0717153 ,
0.0577778 ,
-0.0577778 ,
0.0577778 ,
0.0139375 ,
-0.0174524 ,
0.00351494 ,
-0.0176996 ,
-0.0400782 ,
0.0717153 ,
-0.0245196 ,
-0.025136 ,
-0.0220597 ,
0.0717153 ,
-0.0139375 ,
-0.0577778 ,
0.0577778 ,
-0.0577778 ,
0.0400782 ,
-0.0400782 ,
0.0220597 ,
-0.0220597 ,
0.0184167 ,
0.00727276 ,
0.0833816 ,
-0.0870114 ,
0.0531098 ,
0.135254 ,
-0.184734 ,
-0.00727276 ,
0.0393611 ,
-0.00351494 ,
-0.0542629 ,
0.0400782 ,
-0.0400782 ,
0.0256895 ,
0.0460258 ,
0.0406836 ,
-0.0723207 ,
0.170345 ,
-0.149143 ,
-0.0612804 ,
0.0577778 ,
-0.0577778 ,
0.0542629 ,
-0.0285734 ,
-0.00727276 ,
0.0393611 ,
-0.0393611 ,
0.110457 ,
-0.110457 ,
0.0532986 ,
-0.0139375 ,
-0.0357181 ,
-0.00364299 ,
0.00727276 ,
-0.00727276 ,
0.0393611 ,
-0.0393611 ,
0.0393611 ,
-0.0393611 ,
0.0393611 ,
-0.0393611 ,
0.0393611 ,
-0.0393611 ,
0.0393611 ,
-0.0393611 ,
0.0393611 ,
-0.0393611 ,
0.0393611 ,
-0.0176996 ,
0.0176996 ,
-0.0320883 ,
-0.00362977 ,
0.0531098 ,
-0.0173917 ,
0.0873037 ,
-0.126665 ,
0.0393611 ,
-0.0393611 ,
0.0393611 ,
0.0310906 ,
-0.0668087 ,
-0.00364299 ,
0.0704517 ,
-0.0704517 ,
0.148923 ,
-0.148923 
])

# Step 2: Fit a t-distribution with location fixed at 0 (mean = 0)
loc = 0
scale = 0.059185
df = 54.05

# Run KS test
ks_stat, p_value = stats.kstest(log_returns, lambda x: stats.t.cdf(x, df=df, loc=loc, scale=scale))

print(f"KS statistic: {ks_stat:.4f}")
print(f"p-value: {p_value:.6e}")
